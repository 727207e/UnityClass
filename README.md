# 2D Unity 미니 프로젝트
## Index
  - [승호](#승호) 
  - [준겸](#준겸)
  - [지원](#지원)
  - [태욱](#태욱)
  - [현웅](#현웅)

## 승호
https://github.com/treelun/2DProject

- Survival

#### 적군 AI
	콜라이더를 이용해서
	범위 안으로 들어온 적(유저)를 검색
	
	Coroutine을 이용해서 이동 및 공격 진행

	찾은 유저에게 MoveTowards 함수로 추적	
	유저를 찾으면 이동하는 속도 증가

	유저가 범위 밖으로 넘어가면 기존 이동속도로 진행함.
	

#### 적군 공격
	대미지를 받으면 색이 투명해짐.
	flipX를 이용해서 뒤집어줌.
	Collider를 비활성화해서 무적상태로 변경함.
	rigidbody를 static으로 변경해서 위치를 고정함.
	invoke를 이용해서 특정시간이후에 다시 이동하도록 변경함.


#### 이동 방식
	Addforce를 활용함.
	input.getkeydown을 이용해서 A,S,D,F,arrow 등을 이용해서 이동을 진행함.
	velocity로 이동 진행.
	scale을 변경하여 2D 오브젝트(캐릭터)가 바라보는 방향을 제어함.
	Animation의 Setbool을 이용해서 점프 애니메이션 진행함.
	
	Inspector에서 값을 수정해서 점프의 강도를 조절함.
	CollisionEnter에서 Layer값을 받아서 바닥인지를 체크함.
	바닥인 경우 땅에 있을 때 할수 있는 행위(점프)를 가능하게 지정함.

	땅에서 떨어진 경우 캐릭터의 아래에 공격을 가능하도록 하는 Collider를 킨다.

	공격을 진행하고 반대 방향으로 뛰어오르는 듯한 느낌을 추가함. (AddForce)
	밟은 경우 적의 체력을 준다.(적의 체력 컴포넌트를 가져옴)
	
#### 씬 이동
	SceneManager.LoadScene을 이용해서 Player가 들어오면 원하는 씬으로 이동함
	보스를 잡고 문을 통과하면 다음 점프맵으로 이동함
  
  ----
- fruit market

#### 진행 방식
	타이틀 씬,인게임 씬,휴식 씬,인게임 씬 ...,최종점수 씬,타이틀 씬 ...

#### 타이틀 색 변경
	랜덤한 값을 가져와서 색을 변경함.

#### 배경 이미지
	애니메이션 이동으로 맵 변경

#### 타이머
	time.deltaTime을 진행.
	1자리 숫자만 나옴.
	10초가 지나면 update문을 통해 다음씩인지 체크함.
	ref 키워드를 이용해서 다음 날짜 값을 변경함.

	날짜가 10일이 되었으면 씬 이동

#### 마우스 드래그
	Camera.main.screentoworldPoint 로 마우스의 위치를 가져온다.
	마우스Up 을 할때 해당 위치를 가져온다.
	Up되었을 때 위치에 있는 오브젝트의 기능을 실행한다(지금은 물건을 맞게 두었는가)
	클릭되어 있을땐 마우스의 위치로 계속 오브젝트를 따라다닌다.

	박스 위치에 해당하는 과일을 10개 생성함.
	각각의 과일들이 선택(드래그)상태라면 가져온다.	
	
	NPC가 요구하는 과일의 종류를 List로 가지고있는다.

	도착하는 위치에 collider 범위에 들어오면 원하는 오브젝트가
	NPC가 요구하는 과일 종류와 같으면 점수를 얻고,	 틀리면 점수를 잃는다.

#### 등장 캐릭터 등장 로직
	NPC 이미지도 랜덤하게 이미지를 가져온다.
	NPC가 원하는 과일을 랜덤하게 가져온다.
	가져온 과일들을 string list로 가지고 있는다.
		

#### 일시정지
	Time.timescale = 0 을 이용해서 게임 시간 정지.

#### 점수 방식
	10라운드 진행
	맞게 주면 터지는 애니메이션 작동 (settrigger를 활용)
	점수 증가
	
	잘못주면 터지는 애니메이션 작동안함.
	점수 깍임

	10라운드를 모두 진행하면 최종점수 진행
  
  
## 준겸

- Survival

#### 적군 AI
	콜라이더를 이용해서
	범위 안으로 들어온 적(유저)를 검색
	
	Coroutine을 이용해서 이동 및 공격 진행

	찾은 유저에게 MoveTowards 함수로 추적	
	유저를 찾으면 이동하는 속도 증가

	유저가 범위 밖으로 넘어가면 기존 이동속도로 진행함.
	

#### 적군 공격
	대미지를 받으면 색이 투명해짐.
	flipX를 이용해서 뒤집어줌.
	Collider를 비활성화해서 무적상태로 변경함.
	rigidbody를 static으로 변경해서 위치를 고정함.
	invoke를 이용해서 특정시간이후에 다시 이동하도록 변경함.


#### 이동 방식
	Addforce를 활용함.
	input.getkeydown을 이용해서 A,S,D,F,arrow 등을 이용해서 이동을 진행함.
	velocity로 이동 진행.
	scale을 변경하여 2D 오브젝트(캐릭터)가 바라보는 방향을 제어함.
	Animation의 Setbool을 이용해서 점프 애니메이션 진행함.
	
	Inspector에서 값을 수정해서 점프의 강도를 조절함.
	CollisionEnter에서 Layer값을 받아서 바닥인지를 체크함.
	바닥인 경우 땅에 있을 때 할수 있는 행위(점프)를 가능하게 지정함.

	땅에서 떨어진 경우 캐릭터의 아래에 공격을 가능하도록 하는 Collider를 킨다.

	공격을 진행하고 반대 방향으로 뛰어오르는 듯한 느낌을 추가함. (AddForce)
	밟은 경우 적의 체력을 준다.(적의 체력 컴포넌트를 가져옴)
	
#### 씬 이동
	SceneManager.LoadScene을 이용해서 Player가 들어오면 원하는 씬으로 이동함
	보스를 잡고 문을 통과하면 다음 점프맵으로 이동함

## 지원 

- 보석 피하기

#### 캐릭터 이동
	Translate를 이용해서 캐릭터 위치 이동
	
#### 보석 충돌
	Collider를 안쓰고
	두 오브젝트 중심좌표의 거리를 측정해서 충돌 판정 진행.
	

#### 보석 랜덤 위치 생성
	랜덤한 위치를 지정해서 생성함.
	Gem 오브젝트 프리팹을 가져와서 램덤한 위치에 Instatiate를 진행.
	
#### 보석 가속도 부여
	constantForce2D 컴포넌트를 부여해서 가속도를 증가시킴.
	

## 태욱

#### 소리 종류와 처리
	1. 총알이 발사 될때
	2. 총알이 벽에 닿을 때
	3. 총알에 플레이어가 닿아 죽을 때

#### 총알 충돌 처리

	벽에 닿으면 Layer를 변경함.
	Layer가 변경되면 그때부터 플레이어와 공격에 가능함.
	색상도 변경됨.
	
	플레이어와 닿으면 게임 오버

	벽에 닿으면 reflect를 이용해서 들어오는 방향 벡터를 역전시킨다.	

	플레이어가 쏳은 총알에 비례해서 점수가 오른다.
	

#### 총알 이동 속도 발사 속도 시간
	총알이 발사되는 위치를 빈 오브젝트를 통해 위치 지정
	발사 될때 발사 소리 실행
	메뉴를 활성화 시켜놓았으면 총알 발사 막음.
	
	총알 발사 이후 Invoke를 통해 다음 총알 발사 딜레이를 준다.
	
	

#### 메뉴
	Timescale 을 통해서 정지함.

#### 씬 이동
	SceneManager를 통해서 메뉴와 플에이 씬을 이동함.

#### 플레이어 이동
	input horizontal 과 vertical을 통해서 플레이어 이동.

	플레이어 바라보는 방향 회전을 rotation을 통해 회전.
